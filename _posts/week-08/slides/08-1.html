<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Week 8 - First steps with Python - I</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
    <link href="libs/font-awesome/css/fontawesome-all.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="slides.css" type="text/css" />
    <link rel="stylesheet" href="slides_copy.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">

class:inverse middle center



# *Week 8 - First steps with Python*

----

# I: Jupyter and Python basics

&lt;br&gt; &lt;br&gt; &lt;br&gt; &lt;br&gt; &lt;br&gt;

### Jelmer Poelstra
### 2021/03/02 (updated: 2021-02-23)

---

## Overview of this week

...

---
class: inverse middle center

# Overview of this presentation

----

.left[
- ### [What is Python and why Python](#python)
- ### [Jupyter Notebooks](#python)
- ### [CSB 3.4: Getting started with Python](#getting-started)
]



---
name: python

## What is Python?

- Python is an all-purpose programming language that was created by
  Guido van Rossem, first released in 1991, and named after Monty Python.

- ["The Zen of Python"](https://www.python.org/dev/peps/pep-0020/)
  describes guidelines for Python code with aphorisms that include:

  - Beautiful is better than ugly.
  - Explicit is better than implicit.
  - Simple is better than complex.
  - Complex is better than complicated.
  - Readability counts.
  - If the implementation is hard to explain, it's a bad idea.
  - There should be one-- and preferably only one --obvious way to do it.

- The last point relates to the notion of "Pythonic" code that follows these
  and other [style guidelines](https://pep8.org/).

---

## Why Python?

### Show language popularity graph

- Good language for new programmers due to its straightforward,
  highly readable style.

- Lot of built-in features that would require third-party libraries in other
  languages.
  
- Excellent availability of third-party libraries.

- Cross-platform, open source, and very popular.

- Object-oriented.

---

## Usage of Python

- Data science (especially machine learning)

- Engineering, electronics, astronomy, biology / bioinformatics

- Websites

- Software like the Dropbox client

- Widely used for games and movies

- One of the 4 official languages of Google (along with Java, C++, and Go)

- Tightly integrated with Linux, e.g. Ubuntu Linux prefers community
  contributions to be in Python.

---
name: jupyter

## What is Jupyter?

Like bash and R, Python can be used both interactively (issue one command
at a time, get instantaneous feedback) and by running scripts.

We will start by using Python interactively, and will do so using
Jupyter Notebooks.

- Browser-based envirorenment that runs locally on your computer

- Combines Markdown "cells" with code cells,
  and will show results and figures "in-line".
  
- Jupyter = Julia, Python, R (but now compatible with other languages too).

---

## What is Jupyter? (cont.)

Unfortunately, Jupyter Lab / Jupyter Notebooks are not an all-in-one solution
for programming in Python, because they only offer interactive notebooks.
  
To write scripts (while still being able to run lines interactively),
we need another solution.
  
There are several Python-specific IDEs such as PyCharm and Spyder,
which are reminiscent of RStudio.
  
However, we will work in VS Code, which also offers good Python support,
and which for us carries the additional advantage of not having to switch
platforms constantly.

---

## Working in Jupyter Notebooks



---

## More Jupyter tricks

- Magic functions

- `!ls`

---

## Getting help in Python

- docs.python.org

- `help("MY_COMMAND")`

---
class: center middle inverse
name: getting-started

# 3.3. Getting started with Python

-----

&lt;br&gt; &lt;br&gt; &lt;br&gt; &lt;br&gt;

---

## Simple calculations

- We can use Python as an oversized calculator:

  ```sh
  &gt;&gt;&gt; 2 + 2         # Addition
  #&gt; 4
  &gt;&gt;&gt; 2 * 2         # Multiplication
  #&gt; 4
  &gt;&gt;&gt; 3 / 2         # Division
  #&gt; 1.5
  ```

--

- The usual precedence rules apply, but it's better to be explicit with
  parentheses:

  ```sh
  &gt;&gt;&gt; 2 * 3 ** 3    # Read as 2*(3**3)
  #&gt; 54
  
  &gt;&gt;&gt; 2 * (3 ** 3)
  #&gt; 54
  
  &gt;&gt;&gt; (2 * 3) ** 3
  #&gt; 216
  ```

---

## Simple calculations (cont.)

- **Integer division** (AKA floor division) is division in which the
  fractional part (remainder) is discarded:

  ```sh
  &gt;&gt;&gt; 3 // 2        # Integer division
  #&gt; 1
  ```

&lt;br&gt;

- **The modulo operator** returns the remainder of an integer division:

  ```sh
  &gt;&gt;&gt; 15 % 7
  #&gt; 1
  ```
  
  _(As 15 = (7*2) + 1), 1 is the remainder of the integer division 15//7.)_
  

--

&lt;br&gt;

.content-box-info[
Like in Bash and other languages, anything after a pound sign `#` is ignored
by Python and generally functions as a "comment".
]

---

## Logical operators: `True`, and `False`

- Logical operators return a Boolean value,
  which in Python consist of `True` and `False` (with that exact case):
  
  ```sh
  &gt;&gt;&gt; 2 &gt; 3 # 
  #&gt; False
  
  &gt;&gt;&gt; 2 == 2 # equals
  #&gt; True
  
  &gt;&gt;&gt; 2 != 2 # is different
  #&gt; False
  ```

---

## Strings

- Quotes define strings, and you can single, double, triple-single,
  or triple-double quotes &amp;ndash; but always make sure to use the same closing
  quote as the opening quote.

  ```sh
  &gt;&gt;&gt; 'my string'
  &gt;&gt;&gt; "my string"
  &gt;&gt;&gt; '''my string'''
  &gt;&gt;&gt; """my string"""
  #&gt; 'my string'
  ```
  
- Being able to use single versus double quotes helps if your string contains
  one of those:
  
  ```sh
  &gt;&gt;&gt; "The tree's height"
  #&gt; 'The tree's height'
  ```
  
- And triple quotes are useful if your string contains both single and double quotes:  
  
  ```sh
  # """The tree ' s height is 6 ' 2"."""
  #&gt; 'The tree\'s height is 6\'2".'
  ```

- Moreover, triple quotes can be used for multiline strings:

  ```sh
  """This
  is a mult-line
  string"""
  ```

.content-box-q[
How might we be able to create a multi-line string using single/double quotes?
]

---

## Variable assignment

From working with Bash,
we are familiar with the process of assigning variables (also known as
"declaring variables") and then using them.  

- This works the same in Python, but when recalling a variable,
  we don't need any special syntax (like `$` in bash):

  ```sh
  &gt;&gt;&gt; x = 5
  &gt;&gt;&gt; x
  #&gt; 5
  ```

--

- Like in bash, we can use variables to perform further calculations --
  they will simply be replaced by whatever value they hold:
  
  ```sh
  &gt;&gt;&gt; x + 3
  #&gt; 8
  &gt;&gt;&gt; y = 8
  &gt;&gt;&gt; x + y
  #&gt; 13
  ```

.content-box-info[
Python is not sensitive to spaces around the `=` for assignment. 
]

---

## Variable assignment (cont.)

- When we assign a variable to a *new* variable, a new object is created,
  and the two are *not* linked:
  
  ```sh
  &gt;&gt;&gt; x
  #&gt; 5
  &gt;&gt;&gt; y = x
  &gt;&gt;&gt; y
  #&gt; 5
  
  &gt;&gt;&gt; y = y + 10
  &gt;&gt;&gt; y
  #&gt; 15
  &gt;&gt;&gt; x
  #&gt; 5
  ```

--

&lt;br&gt;

.content-box-info[
This behavior of "unlinked variables" may be very intuitive or expected &amp;ndash;
but in Python, this is only true for *immutable* objects!
]

---

## Variable types

- Unlike in bash, variables in Python have *types*, such as:
  - Integers (whole numbers)
  - Floats (numbers with decimal points)
  - Strings
  - Boolean (`True` or `False`)

- Assign a string, and concatenate strings with `+`:

  ```sh
  &gt;&gt;&gt; x = "The cell grew"
  
  &gt;&gt;&gt; x + " and is now larger"
  #&gt; 'The cell grew and is now larger'
  ```

--

.content-box-info[
Jupyter functions to show what's in your environment:

```sh
&gt;&gt;&gt; who

&gt;&gt;&gt; whos

&gt;&gt;&gt; dir()
```
]

---

## Variable types

We can't perform operations like concatenation with variables of different types:

```sh
&gt;&gt;&gt; y
#&gt; 8
&gt;&gt;&gt; x
#&gt; "The cell grew"

&gt;&gt;&gt; x + y              # x is string, y is integer
#&gt; ---------------------------------------------
#&gt; TypeError
#&gt; Traceback (most recent call last)
#&gt; &lt;ipython-input-8-b50c5120e24b&gt; in &lt;module&gt;()
#&gt; ----&gt; 1 x + y
#&gt; TypeError: Can't convert ' int ' object to str implicitly
```

---

## Variable type conversion

```sh
&gt;&gt;&gt; x
#&gt; "The cell grew"
&gt;&gt;&gt; y
#&gt; 8
```

- But we can convert variable types on the fly; to as string with `str()`:
  
  ```sh
  &gt;&gt;&gt; x + " " + str(y) + " nm"
  #&gt; ' The cell grew 8 nm '
  ```

--

- To an integer with `int()`:

  ```sh
  &gt;&gt;&gt; y + int(z)
  #&gt; 96
  ```

--

- Numbers in quotes are interpreted as strings:
  
  ```sh
  &gt;&gt;&gt; z = "88" # string
  &gt;&gt;&gt; x + z
  #&gt; 'The cell grew88'
  ```

---

## Variable type conversion

As we just saw, Python types variables *dynamically* (also known as "duck typing").
This means you don't have to a priori define what type a variable should be.
You can check *what Python has decided for you* using `type()`:

```sh
&gt;&gt;&gt; x = 2
&gt;&gt;&gt; type(x)
#&gt; int

x = "two"
&gt;&gt;&gt; type(x)
#&gt; str
```

--

- These are all the functions to convert between types:

|Function     | Convert to:
|-------------|--------------|
| `int()`     | Integer
| `double()`  | Double (numbers with decimals)
| `str()`     | String
| `bool()`    | Boolean (`True` / `False`)

---

## Naming variables

- Use only alphanumeric characters and underscores in variables names.

- Numbers can't be used as the *first character* in variable names.

- To delimit words, preferably use underscores (`my_variable`) rather than
  "camel case" (`MyVariable`).
  (And note that Python is case-sensitive.)

- As we'll see in a minute, periods `.` have special meaning in Python and
  **can not** be used in variable names.

---

## Built-in functions

- In the previous slide, we saw several examples of *functions*,
  which are called using parentheses:
  
  ```sh
  # With no arguments specified:
  function_name()
  
  # With arguments specified:
  function_name(function_argument1, function_argument2)
  ```

--

- For example, we can use `len()` to get the length of (e.g.) a string:

  ```sh
  &gt;&gt;&gt; s = "a long string"
  &gt;&gt;&gt; len(s)
  #&gt; 13
  ```

--

- Or `round()` to round a number, with an optional number of decimals to round
  to (the default is 0):

  ```sh
  &gt;&gt;&gt; round(3.14159)
  #&gt; 3
  &gt;&gt;&gt; round(3.14159, 3)
  #&gt; 3.142
  ```

---

## Printing to screen

.content-box-info[
As we've seen, when we typed `x` or `x + y`, the outcome was printed to screen.

However, this only happens in interactive Python; and in Jupyter Notebooks,
only for the last command:

```sh
&gt;&gt;&gt; x
&gt;&gt;&gt; z
#&gt; '88'
```

To be more explicit, and to print in any context, we can use the function
`print()`:

```sh
&gt;&gt;&gt; print(x)
&gt;&gt;&gt; print(z)
#&gt; 2
#&gt; '88'
```
]

---

## Strings and methods

- **Python is "object-oriented"** &amp;ndash;
  its variables are objects that contain:
  
  - The values/data assigned to them, _and_
  
  - A type of functions specifically associated with the object type.
    These are called **"methods"**.
    
- To see which methods are associated with a string,
  type a dot `.` after an object name, and press &lt;kbd&gt;Tab&lt;/kbd&gt;:
  
  ```sh
  &gt;&gt;&gt; astring = "ATGCATG"
  
  &gt;&gt;&gt; astring.      # Press Tab
  
  # To get information about a listed method:
  &gt;&gt;&gt; help(astring.find)
  ```

--

- Let's call a method &amp;mdash; here, we'll try `find()`,
  which prints the position of the first occurrence of a substring:
  
  ```sh
  &gt;&gt;&gt; astring.find("C")
  #&gt; 3
  ```

---

## *Methods* versus (generic) *functions*

- Call the function `print()` on a string:

  ```sh
  &gt;&gt;&gt; s = "ATGC"
  
  &gt;&gt;&gt; print(s)
  #&gt; ATGC
  ```

- Calling the method "print" returns an error message
  that tells us that strings have no method called `print`:

  ```sh
  &gt;&gt;&gt; s.print()
  #&gt; ----------------------------------------------------------
  #&gt; AttributeError: ' str ' object has no attribute ' print '
  ```

--

.content-box-info[
**Comparing the syntax for generic functions and methods:**

```sh
function_name(object, other_argument)

object.method_name(argument)
```
]

---

## More methods for strings

- `.replace()` to replace substrings:
  
  ```sh
  # astring = "ATGCATG"
  
  &gt;&gt;&gt; astring.replace("T", "U")
  #&gt; 'AUGCAUG'
  ```

- `count()` to count occurrences of substrings:

  ```sh
  &gt;&gt;&gt; astring.count("G")
  #&gt; 2
  ```

--

- `.split()` will split a string into components, using spaces by default:

  ```sh
  &gt;&gt;&gt; newstring = " Mus musculus "
  
  &gt;&gt;&gt; newstring.split()
  #&gt; ['Mus', 'musculus']
  
  # Specify the character by which to split:
  &gt;&gt;&gt; newstring.split("u")
  #&gt; ['M', 's m', 'sc', 'l', 's']
  ```

---

## More methods for strings

- `.strip()` to remove, by default, leading and trailing white space:

  ```sh
  # newstring = " Mus musculus "
  
  &gt;&gt;&gt; newstring.strip()
  #&gt; 'Mus musculus'
  ```

- `.index()` &amp;ndash; returns the position of a substring like `.find()`,
  but will raise an error if the substring is not found
  (`.find()` will return a value of `-1`).

---

## Other behavior of methods

- You can even use string methods without first assigning the string to a
  variable:
  
  ```sh
  # Make uppercase with `.upper()`:
  &gt;&gt;&gt; "atgc".upper()
  #&gt;'ATGC'
  
  # Make lowercase with `.lower()`:
  &gt;&gt;&gt; "TGCA".lower()
  #&gt; 'tgca'
  ```

--

&lt;br&gt;

- And you can **combine multiple methods** in a single call
  by chaining them together like so:

  ```sh
  # astring = "ATGCATG"
  
  &gt;&gt;&gt; astring.replace("T", "U").count("U")
  #&gt; 2
  ```
  
---

## Concatenating strings

- We can concatenate string with the `+` sign:

  ```sh
  &gt;&gt;&gt; genus = "Rattus"
  &gt;&gt;&gt; species = "norvegicus"
  
  &gt;&gt;&gt; genus + " " + species    # Separate with a space
  #&gt; 'Rattus norvegicus'   
  ```

--

- But this is a slow way of concatenating &amp;ndash;
  the `.join()` method is better:

  ```sh
  # join requires a list of strings as input:
  &gt;&gt;&gt; human = ["Homo", "sapiens"]
  &gt;&gt;&gt; " ".join(human)
  #&gt; 'Homo sapiens'
  
  # You can specify any symbol as a delimiter:
  &gt;&gt;&gt; "-&gt;".join(["one", "leads", "2", "the", "other"])
  #&gt; 'one-&gt;leads-&gt;2-&gt;the-&gt;other'
  ```
  
---

## More on methods

- Different object types have different methods:

  ```sh
  &gt;&gt;&gt; my_int = 8
  &gt;&gt;&gt; my_int.               # See methods for integers 
  
  &gt;&gt;&gt; my_float = 8.5
  &gt;&gt;&gt; float.                # See methods for floats
  
  &gt;&gt;&gt; mystring = "ATGC"
  &gt;&gt;&gt; my.string.            # See methods for strings
  ```

---

## <i class="fas  fa-user-edit "></i> Intermezzo 3.1

1. Initialize the string `s = "WHEN on board H.M.S. Beagle, as naturalist"`.

2. Apply a string method to count the number of occurrences of the
   character `b`.

3. Modify the command such that it counts both lowercase and uppercase `b`'s.

4. Replace `WHEN` with `When`.

---

## <i class="fas  fa-user-edit "></i> Intermezzo 3.1: Solutions

1. Initialize the string:

  ```sh
  &gt;&gt;&gt; s = "WHEN on board H.M.S. Beagle, as naturalist"
  ```

2. Count the number of occurrences of the character `b`.

  ```sh
  &gt;&gt;&gt; s.count("b")
  ```

3. Count both lowercase and uppercase `b`'s:

  ```sh
  &gt;&gt;&gt; s.lower().count("b")
  ```

4. Replace `WHEN` with `When`.

  ```sh
  &gt;&gt;&gt; s.replace("WHEN","When")
  ```

---
class: center middle inverse

# Questions?

-----

&lt;br&gt; &lt;br&gt; &lt;br&gt; &lt;br&gt;

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "rainbow",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
