---
title: "Exercises: Week 9"
output:
  distill::distill_article:
    self_contained: false
    toc: true
    toc_depth: 3
---

## Exercises

From the CSB Chapter 3 preface to the exercises:

> Here are some practical tips on how to approach the Python exercises (or any programming task):
>
> -   Think through the problem before starting to write code: Which data structure would be more convenient to use (e.g., sets, dictionaries, lists)?
> -   Break the task down into small steps (e.g., read file input, create and fill data structure, output).
> -   For each step, describe in plain English what you are trying to do--- leave these notes as comments within your program to document your code.
> -   When working with large files, initially use only a small subset of the data; once you have tested your code thoroughly you can run it on the whole data set.
> -   Consider using specific modules (e.g., use the csv module to parse each line into a dictionary or a list).
> -   Skim through appropriate sections above to refresh your memory on data-type-specific methods.
> -   Use the documentation and help forums.

### Exercise 1: Measles time series

In their article, Dalziel et al. (2016) provide a long time series reporting the numbers of cases of measles before mass vaccination, for many US cities. The data consist of cases in a given US city for a given year, and a given biweek of the year (i.e., first two weeks, second two weeks, etc.). The time series is contained in the file `Dalziel2016_data.csv`.

1.  Write a program that extracts the names of all the cities in the database (one entry per city).

2.  Write a program that creates a dictionary where the keys are the cities and the values are the number of records (rows) for that city in the data.

3.  Write a program that calculates the mean population for each city, obtained by averaging the values of `pop`.

4.  Write a program that calculates the mean population for each city and year.

### Red queen in fruit flies

Singh et al. (2015) show that, when infected with a parasite, the four genetic lines of D. melanogaster respond by increasing the production of recombinant offspring (arguably, trying to produce new recombinants able to escape the parasite). They show that the same outcome is not achieved by artificially wounding the flies. The data needed to replicate the main claim (figure 2 of the original article) is contained in the file `Singh2015_data.csv`.

Open the file, and compute the mean `RecombinantFraction` for each *Drosophila* Line , and `InfectionStatus` (`W` for wounded and `I` for infected).

Print the results in the following form:

``` {.sh}
Line 45 Average Recombination Rate:
W : 0.187
I : 0.191
```
